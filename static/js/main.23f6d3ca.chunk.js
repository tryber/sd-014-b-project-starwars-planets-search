(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),u=n.n(l),c=(n(14),Object(a.createContext)()),i=["maior que","menor que","igual a"],o=["population","orbital_period","diameter","rotation_period","surface_water"],s=function(){var e=Object(a.useContext)(c),t=e.setOption,n=e.setOrder,l=e.option,u=e.getFilterOrder,i=e.orderFilter,o=e.planetFiltered,s=Object(a.useContext)(c).filterColums,m=function(e){var t=e.target.value;n(t)},f=function(){!function(){switch(i){case"ASC":if("name"!==l&&""!==l)return o.sort((function(e,t){if(Number(e[l])<Number(t[l])){return-1}return!0}));if("name"===l&&""!==l)o.sort((function(e,t){if(e[l]<t[l]){return-1}return!0}))}}(),function(){switch(i){case"DESC":if("name"!==l&&""!==l)return o.sort((function(e,t){if(Number(e[l])>Number(t[l])){return-1}return!0}));if("name"===l&&""!==l)o.sort((function(e,t){if(e[l]>t[l]){return-1}return!0}))}}()};return r.a.createElement("section",{className:"section-orderData"},r.a.createElement("select",{"data-testid":"column-sort",value:l,onChange:function(e){var n=e.target.value;t(n)},className:"select-filter"},r.a.createElement("option",null,"name"),s.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("label",{htmlFor:"acendente",className:"labelOrder"},"ASCENDENTE",r.a.createElement("input",{"data-testid":"column-sort-input-asc",type:"radio",value:"ASC",id:"acendente",name:"radio-order",onChange:m,className:"radio-order"})),r.a.createElement("label",{htmlFor:"descendente",className:"labelOrder"},"DESCENDENTE",r.a.createElement("input",{"data-testid":"column-sort-input-desc",type:"radio",value:"DESC",id:"descendente",name:"radio-order",onChange:m,className:"radio-order"})),r.a.createElement("button",{type:"button","data-testid":"column-sort-button",onClick:function(){u(),f()},className:"btn-filter"},"ordenar"))},m=function(){var e=Object(a.useContext)(c),t=e.filter,n=e.setFilters,l=e.setFilterColumns,u=e.filterColums,i=e.data,o=e.setPlanetFiltered,s=t.filters,m=s.filterByName.name,f=s.filterByNumericValues;return Object(a.useEffect)((function(){0===f.length&&o(i)}),[f]),r.a.createElement("ul",null,f.map((function(e,t){return r.a.createElement("li",{key:t,"data-testid":"filter"},e.column," ",e.comparison," ",e.value," ",r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t=f.filter((function(t){return t.column!==e.column}));l(u.concat(e.column)),n({filters:{filterByName:{name:m},filterByNumericValues:t}})}(e)}},"X"))})))},f=function(){var e=Object(a.useContext)(c),t=e.getFilterNumeric,n=e.column,l=e.comparison,u=e.setComparison,o=e.setColumn,f=e.filterComparison,d=e.setValue,p=e.value,b=e.filterColums,E=e.setFilterColumns;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section-filter"},r.a.createElement("select",{"data-testid":"column-filter",onChange:function(e){var t=e.target;o(t.value)},value:n,className:"select-filter"},b.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("select",{"data-testid":"comparison-filter",onChange:function(e){var t=e.target;u(t.value)},value:l,className:"select-filter"},i.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("input",{type:"number","data-testid":"value-filter",onChange:function(e){var t=e.target;d(t.value)},value:p,className:"input-select-filter"}),r.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){t();var e=b.filter((function(e){return e!==n}));f(),E(e),o(""),u(""),d("0")},className:"btn-filter"},"Filtrar"),r.a.createElement(s,null)),r.a.createElement("section",null,r.a.createElement(m,null)))},d=function(){var e=Object(a.useContext)(c),t=e.filter,n=e.getPlanetName,l=e.data,u=e.setPlanetFiltered,i=t.filters.filterByName.name;return Object(a.useEffect)((function(){var e=l.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));u(e)}),[i]),r.a.createElement("header",null,r.a.createElement("h1",null,"Projeto Trybe Wars "),r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target;n(t.value)},value:i,"data-testid":"name-filter",className:"input-filter",placeholder:"Pesquise um nome de Planeta"}))},p=function(){var e=Object(a.useContext)(c),t=e.getDataApi,n=e.planetFiltered,l=n.length>0&&Object.keys(n[0]),u=n.length>0&&l.filter((function(e){return"residents"!==e}));return Object(a.useEffect)((function(){t()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(f,null),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,n.length>0&&u.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,n.map((function(e,t){var n=e.name,a=e.rotation_period,l=e.orbital_period,u=e.diameter,c=e.climate,i=e.gravity,o=e.terrain,s=e.surface_water,m=e.population,f=e.films,d=e.created,p=e.edited,b=e.url;return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-testid":"planet-name"},n),r.a.createElement("td",null,a),r.a.createElement("td",null,l),r.a.createElement("td",null,u),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,o),r.a.createElement("td",null,s),r.a.createElement("td",null,m),r.a.createElement("td",null,JSON.stringify(f)),r.a.createElement("td",null,d),r.a.createElement("td",null,p),r.a.createElement("td",null,b))})))))},b=n(8),E=n(2),v=n.n(E),N=n(5),O=n(1),C=function(){var e=Object(N.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-trybe.herokuapp.com/api/planets/",e.next=3,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a=n.results,e.abrupt("return",a.sort((function(e,t){if(e.name<t.name){return-1}return!0})));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){var t=e.children,n=Object(a.useState)([]),l=Object(O.a)(n,2),u=l[0],i=l[1],s=Object(a.useState)(""),m=Object(O.a)(s,2),f=m[0],d=m[1],p=Object(a.useState)(""),E=Object(O.a)(p,2),y=E[0],j=E[1],h=Object(a.useState)("0"),g=Object(O.a)(h,2),F=g[0],x=g[1],k=Object(a.useState)([]),S=Object(O.a)(k,2),w=S[0],B=S[1],D=Object(a.useState)(o),P=Object(O.a)(D,2),V=P[0],A=P[1],_=Object(a.useState)("ASC"),q=Object(O.a)(_,2),J=q[0],T=q[1],L=Object(a.useState)(""),I=Object(O.a)(L,2),W=I[0],X=I[1],z=Object(a.useState)({filters:{filterByName:{name:""},filterByNumericValues:[],order:{column:"name",sort:"ASC"}}}),G=Object(O.a)(z,2),H=G[0],K=G[1],M=H.filters,Q=M.filterByName,R=M.filterByNumericValues,U=M.order,Y=Q.name,Z={data:u,getDataApi:function(){var e=Object(N.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,C();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=B,e.next=8,C();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setData:i,filter:H,getPlanetName:function(e){K({filters:{filterByName:{name:e},filterByNumericValues:R,order:U}})},getFilterNumeric:function(){K({filters:{filterByName:{name:Y},filterByNumericValues:[].concat(Object(b.a)(R),[{column:f,comparison:y,value:F}]),order:U}})},filterComparison:function(){if("maior que"===y){var e=u.filter((function(e){return Number(e[f])>Number(F)}));B(e)}if("menor que"===y){var t=u.filter((function(e){return Number(e[f])<Number(F)}));B(t)}if("igual a"===y){var n=u.filter((function(e){return Number(e[f])===Number(F)}));B(n)}},setColumn:d,setComparison:j,setValue:x,setFilters:K,value:F,column:f,comparison:y,filterColums:V,setFilterColumns:A,planetFiltered:w,setPlanetFiltered:B,orderFilter:J,setOrder:T,option:W,setOption:X,getFilterOrder:function(){K({filters:{filterByName:Q,filterByNumericValues:R,order:{column:W,sort:J}}})}};return r.a.createElement(c.Provider,{value:Z},t)};var j=function(){return r.a.createElement(y,null,r.a.createElement(p,null))};n(16);u.a.render(r.a.createElement(j,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.23f6d3ca.chunk.js.map